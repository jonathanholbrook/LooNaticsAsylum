<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<?xml-stylesheet href="hide-it.xsl" type="text/xsl"?>
<layoutype>Free4All</layoutype>

<item>
    <title>Name</title>
    <link>https://raw.githubusercontent.com/techecoyote/LooNaticsAsylum/master/text/test/1080.xml</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
</item>

<plugin >
    <title>PLUTOTV KODI 18 ONLY</title>
    <link>plugin://plugin.video.pluto2tv/?mode=1</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
</plugin>

<plugin >
    <title>XUMOTV KODI 18 ONLY</title>
    <link>plugin://plugin.video.xumo2tv/?mode=1</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
</plugin>

<plugin >
    <title>BUMBLEBEETV KODI 18 ONLY</title>
    <link>plugin://plugin.video.bumblebeetv/?mode=1</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
</plugin>

<plugin >
    <title>DISTROTV KODI 18 ONLY</title>
    <link>plugin://plugin.video.distrotv/?mode=1</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
</plugin>

<plugin >
    <title>TUBITV KODI 18 ONLY</title>
    <link>plugin://plugin.video.tubitv/?mode=1</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
</plugin>

<item>
    <title>(YSS)</title>
<link>$doregex[makelist]</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
    <title>[makelist.param1]</title>
        <link>$doregex[makelist2]</link>
        <thumbnail></thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import control
    import re
    if not control.infoLabel('Container.PluginName') == 'plugin.video.le': return
    e = page_data.split('scope.tv=', 1)[-1]
    r = re.findall('chan:\'(.+?)\',url:\'(.+?)\'', e)
    sort = [(i[0],'http://yoursports.stream/live?v='+i[1]) for i in r]
    return sorted(sort,key=lambda le: (le[1]))
]]></expres>
<page>http://yoursports.stream/games.js?x=1578846031</page>
</regex>
<regex>
  <name>makelist2</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client
    url = client.external('[makelist.param2]')
    return url
]]></expres>
<page></page>
</regex>
</item>

<item>
<title>US GEO BLOCKED(MYUSTV)</title>
<link>$doregex[makelist]</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
        <title>[makelist.param2] </title>
        <link>$doregex[makelist2]</link>
        <thumbnail>http://myustv.com[makelist.param3]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client
    import re
    u = ''
    u += client.request('http://myustv.com//watch/category/united-states-usa-tv-channel')
    u += client.request('http://myustv.com/watch/category/united-states-usa-tv-channel/page/2/')
    u += client.request('http://myustv.com/watch/category/united-states-usa-tv-channel/page/3/')
    u += client.request('http://myustv.com/watch/category/united-states-usa-tv-channel/page/4/')
    u += client.request('http://myustv.com/watch/category/united-states-usa-tv-channel/page/5/')
    u += client.request('http://myustv.com/watch/category/united-states-usa-tv-channel/page/6/')
    r = re.findall('(?s)title"><a href="(.*?)"(?:.*?title)="(.*?)"(?:.*?src=)"(.*?)"', u)
    return r
]]></expres>
<page></page>
</regex>
<regex>
  <name>makelist2</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client
    url = client.external('[makelist.param1]')
    return url
]]></expres>
<page></page>
</regex>
</item>

<item>
    <title>(S24)</title>
<link>$doregex[makelist]</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
    <title>[makelist.param1]</title>
    <link>$doregex[player]</link>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client,control
    import re
    if not control.infoLabel('Container.PluginName') == 'plugin.video.le': return
    site = page_data
    items = re.findall('(?s)fxbtn" title ="([^"]*)" href="([^"]*)', site)
    sort = [(i[0],'https://sports24.stream/tv/'+i[1]) for i in items]
    return sorted(sort,key=lambda le: (le[1]))
]]></expres>
<page>https://sports24.stream/tv/</page>
</regex>
<regex>
<name>player</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client,control
    import re,base64
    l = re.findall('atob\(["|\']([^"|\']*)', page_data)[0]; l = base64.b64decode(l).decode('utf-8')
    l = l.replace('https:','')
    l = l.replace('//','https://')
    if l.startswith('/'): l = 'https://sports24.stream' + l
    return l + '|user-agent=iPad&referer=[makelist.param2]'
]]></expres>
<page>[makelist.param2]</page>
</regex>
</item>

<item>
    <title>(SB)</title>
<link>$doregex[makelist]</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
        <title>[makelist.param1] </title>
        <link>$doregex[makelist2]</link>
        <thumbnail></thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client,control
    import re
    if not control.infoLabel('Container.PluginName') == 'plugin.video.le': return
    u = ''
    u += client.request('https://sportsbay.org/sports/tv-channels')
    u += client.request('https://sportsbay.org/sports/tv-channels/2')
    u += client.request('https://sportsbay.org/sports/tv-channels/3')
    u += client.request('https://sportsbay.org/sports/tv-channels/4')
    u += client.request('https://sportsbay.org/sports/tv-channels/5')
    u += client.request('https://sportsbay.org/sports/tv-channels/6')
    r = re.findall('(?s)<a class="url summary" title="([^"]*)(?:.*?f=")([^"]*)', u)
    sort = [(i[0],'http://sportsbay.org'+i[1]) for i in r]
    return sorted(sort,key=lambda le: (le[1]))
]]></expres>
<page></page>
</regex>
<regex>
  <name>makelist2</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client
    url = client.external('[makelist.param2]')
    return url
]]></expres>
<page></page>
</regex>
</item>

<item>
<title>(DL)</title>
<link>$doregex[makelist]</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
    <title>[makelist.param2]</title>
        <link>$doregex[makelist2]</link>
        <thumbnail>[makelist.param2]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    import re
    from resources.lib.modules import control
    if not control.infoLabel('Container.PluginName') == 'plugin.video.le': return
    page_data = page_data.split('EPL Standings', 1)[-1]
    e = re.findall('(?s)<a class="btn(?:.*?href)="([^"]*)(?:.*?i>)([^<]*)', page_data)
    sort = [('https://daddylive.live'+i[0],i[1]) for i in e]
    return sorted(sort,key=lambda le: (le[1]))
]]></expres>
<page>https://daddylive.live/24-hours-channels.php</page>
</regex>
<regex>
  <name>makelist2</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client
    url = client.external('[makelist.param1]')
    return url
]]></expres>
<page></page>
</regex>
</item>

<item>
<title>(CAT)</title>
<link>$doregex[makelist]</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
<title>[makelist.param1] ([makelist.param2])  Rating: [makelist.param3]  [makelist.param4]</title>
<link>plugin://plugin.video.f4mTester/?streamtype=HLSRETRY&amp;name=[makelist.param1]&amp;url=[makelist.param5]|user-agent=iPad</link>
<thumbnail>[makelist.param6]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import cache,client,workers,control
    import re,urllib,xbmc,xbmcgui
    if not control.infoLabel('Container.PluginName') == 'plugin.video.le': return
    class page:
        def run(self, r):
            threads = [] ; self.r = [] ; r = [(r.index(i)+1, i) for i in r]
            for i in r: threads.append(workers.Thread(self.request, i))
            [i.start() for i in threads] ; [i.join() for i in threads]
            return ''.join([str(i[1]) for i in sorted(self.r, key=lambda x: x[0])])
        def request(self, i):
            self.r += [(i[0], client.request(i[1]))]
    url = 'https://iptvcat.com/sport/'
    u = []
    for i in range(1, 20): u += [url + str(i)]
    u = cache.get(page().run, 24, u)
    items = re.findall('(?s)<span class="channel_name"(?:.*?channel_name\'>)([^<]*)(?:.*?content\'>)([^<]*)(?:.*?gba.*?\'>)([^<]*)(?:.*?content\'>)\s([^\s]*)(?:.*?text=")([^"]*)(?:.*?src=")([^"]*)', u)
    items = [(i[0],i[1],i[2],i[3].replace('360x200','Low SD').replace('852x480','SD').replace('1440x1080','FHD').replace('284x160','Low SD').replace('512x288','Low SD').replace('720x360','Low SD').replace('384x216','Low SD').replace('720x576','SD').replace('704x576','SD').replace('500x400','SD').replace('720x480','SD').replace('366x206','Low SD').replace('320x240','Low SD').replace('1280x1080','FHD').replace('857x460','SD').replace('520x360','SD').replace('1600x900','FHD').replace('768x432','SD').replace('640x480','SD').replace('720x404','SD').replace('480x270','Low SD').replace('426x240','Low SD').replace('960x540','SD').replace('534x300','SD').replace('320x180','Low SD').replace('1280x720','HD').replace('640x360','SD').replace('1024x576','HD').replace('720x756','SD').replace('1920x1080','FHD').replace('720x406','SD'),i[4],'https://iptvcat.com/'+i[5]) for i in items if '.m3u8' in i[4]]
    return items
]]></expres>
<page></page>
</regex>
</item>

<item>
<title>(GT)</title>
    <thumbnail></thumbnail>
    <fanart></fanart>
<link>$doregex[makelist]</link>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
  <title>[makelist.param2]</title>
  <link>$doregex[lists]</link>
  <thumbnail>[makelist.param3]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m):
    import re
    return re.findall('(?s)<header class="entry-header cf">(?:.*?href=)"([^"]*)">([^<]*)(?:.*?src=")([^"]*)',page_data)
]]></expres>
<page>https://www.gratisiptv.com/free-playlists/</page>
</regex>
<regex>
<name>lists</name>
<listrepeat><![CDATA[
  <title>[lists.param2]</title>
  <link>$doregex[m3u]</link>
  <thumbnail>[makelist.param3]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m):
    import re
    s = page_data.split('<pre>', 1)[-1]
    return re.findall('(?s)<a href="(.*?m3u[^"]*)">Download\s([^<]*)',s)
]]></expres>
<page>[makelist.param1]</page>
<referer></referer>
</regex>
<regex>
<name>m3u</name>
<listrepeat><![CDATA[
  <title>[I][m3u.param1][/I]</title>
  <link>[m3u.param2]</link>
  <thumbnail>[makelist.param3]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m):
    import re
    return re.findall('#EXTINF:.+?\,(.+?)\n(.+?)\n',page_data)
]]></expres>
<page>[lists.param1]</page>
<referer></referer>
</regex>
</item>


<item>
<title>(DIPTV)</title>
<link>$doregex[makelist]</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
  <title>[makelist.param2]</title>
  <link>$doregex[lists]</link>
  <thumbnail>[makelist.param3]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m):
    from resources.lib.modules import control
    import re
    if not control.infoLabel('Container.PluginName') == 'plugin.video.le': return
    return re.findall('(?s)<figure class="mh-posts-grid-thumb">(?:[^=]*)="([^"]*)"(?:[^=]*)="([^"]*)"(?:[^=]*)="(?:[^=]*)="(?:[^=]*)="([^"]*)',page_data)
]]></expres>
<page>https://dailym3uiptv.com/url-free/</page>
</regex>
<regex>
<name>lists</name>
<listrepeat><![CDATA[
  <title>List[lists.param2]</title>
  <link>$doregex[m3u]</link>
  <thumbnail>[makelist.param3]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m):
    import re
    r = re.findall('(?s)<strong>.*?<a href="([^"]*)">([^<]*)',page_data)
    sort = sort = [(i[0],i[1]) for i in r if 'm3u' in i[0]]
    return sort
]]></expres>
<page>[makelist.param1]</page>
<referer></referer>
</regex>
<regex>
<name>m3u</name>
<listrepeat><![CDATA[
  <title>[I][m3u.param1][/I]</title>
  <link>[m3u.param2]</link>
  <thumbnail>[makelist.param3]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m):#cosmix
    import re
    return re.findall('#EXTINF:.+?\,(.+?)\n(.+?)\n',page_data)
]]></expres>
<page>[lists.param1]</page>
<referer></referer>
</regex>
</item>



<item>
<title>(TV247)</title>
<link>$doregex[makelist]</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
        <title>[makelist.param3]</title>
        <link>$doregex[makelist2]</link>
        <thumbnail>[makelist.param1]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import control
    import re
    if not control.infoLabel('Container.PluginName') == 'plugin.video.le': return
    r = re.findall('(?s)sup">live(?:.*?c=)"([^"]*)(?:.*?f=)"([^"]*)">([^<]*)', page_data)
    return sorted(r,key=lambda le: (le[1]))
]]></expres>
<page>http://tv247.us/all-channels/</page>
</regex>
<regex>
  <name>makelist2</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client
    url = client.external('[makelist.param2]')
    return url
]]></expres>
<page></page>
</regex>
</item>

<item>
<title>(USSTREAMIX)</title>
<link>$doregex[makelist]</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
        <title>[makelist.param2]</title>
        <link>$doregex[makelist2]</link>
        <thumbnail>[makelist.param2]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import control
    import re
    if not control.infoLabel('Container.PluginName') == 'plugin.video.le': return
    e = re.findall('(?s)onmouseover="vidPlay(?:[^"]*)"(?:[^"]*)"(?:[^"]*)" href="([^"]*)(?:[^>]*)>([^<]*)', page_data)
    return e
]]></expres>
<page>https://www.ustream.to/index.html</page>
</regex>
<regex>
  <name>makelist2</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client,jsunpack
    import re
    w = re.findall('value=\'<iframe.*?src="([^"]*)', page_data)[0]
    h = client.request(w)
    i = re.findall('(eval.*m3u8.*)',h)[0]
    js = jsunpack.unpack(i)
    s = re.findall('host_tmg="([^"]*)',js)[0]
    s1 = re.findall('file_name="([^"]*)',js)[0]
    s2 = re.findall('jdtk="([^"]*)',js)[0]
    return 'https://' + s + '/' + s1 + '?token=' + s2 + '|User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:79.0) Gecko/20100101 Firefox/79.0&Referer=[makelist.param1]'
]]></expres>
<page>[makelist.param1]</page>
</regex>
</item>

<item>
<title>(USTVGO)</title>
<link>$doregex[makelist]</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
<regex>
<name>makelist</name>
<listrepeat><![CDATA[
        <title>[makelist.param2]</title>
        <link>$doregex[makelist2]</link>
        <thumbnail>[makelist.param3]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client,control
    import re
    if not control.infoLabel('Container.PluginName') == 'plugin.video.le': return
    u = ''
    u += client.request('https://ustvgo.tv/category/sports/')
    u += client.request('https://ustvgo.tv/category/entertainment/')
    u += client.request('https://ustvgo.tv/category/entertainment/page/2/')
    u += client.request('https://ustvgo.tv/category/entertainment/page/3/')
    u += client.request('https://ustvgo.tv/category/kids/')
    u += client.request('https://ustvgo.tv/category/news/')
    r = re.findall('(?s)featured-image">.*?f="([^"]*).*?e="([^"]*)(?:.*?c=)"(?:.*?c=)"([^"]*)', u)
    sort = [(i[0],i[1].replace('#038;',''),i[2]) for i in r]
    return sorted(sort,key=lambda le: (le[1]))
]]></expres>
<page>https://ustvgo.tv</page>
</regex>
<regex>
  <name>makelist2</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = '[makelist.param1]'):
    from resources.lib.modules import client
    import re,requests
    r = client.request(url)
    q = re.findall(r'\?stream=([^\']*)', r)[0]
    s = requests.post("https://ustvgo.tv/data.php", data={"stream": q}).text
    return s
]]></expres>
<page>[makelist.param1]</page>
</regex>
</item>

<item>
<title>(CHD)</title>
<link>$doregex[leschedule]</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
<regex>
<name>leschedule</name>
<listrepeat><![CDATA[
<title>[leschedule.param2]</title>
<link>$doregex[lestreamer]</link>
<thumbnail></thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client,control
    if not control.infoLabel('Container.PluginName') == 'plugin.video.le': return
    u = client.schedule('https://www.crichd.sx/live')
    return u
]]></expres>
<page></page>
</regex>
<regex>
<name>lestreamer</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = '[leschedule.param1]'):
    from resources.lib.modules import client
    u = client.external(url)
    return u
]]></expres>
<page></page>
</regex>
</item>

<item>
<title>(TUB)</title>
<link>$doregex[leschedule]</link>
    <thumbnail></thumbnail>
    <fanart></fanart>
<regex>
<name>leschedule</name>
<listrepeat><![CDATA[
<title>[leschedule.param3]</title>
<link>$doregex[lestreamer]</link>
<thumbnail>[leschedule.param2]</thumbnail>
]]></listrepeat>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = ''):
    from resources.lib.modules import client,control
    if not control.infoLabel('Container.PluginName') == 'plugin.video.le': return
    u = client.schedule('http://telehub.org/#video8')
    return u
]]></expres>
<page></page>
</regex>
<regex>
<name>lestreamer</name>
<expres><![CDATA[#$pyFunction
def GetLSProData(page_data,Cookie_Jar,m,url = '[leschedule.param1]'):
    from resources.lib.modules import client
    u = client.external(url)
    return u
]]></expres>
<page></page>
</regex>
</item>